\documentclass[10pt,a4paper]{report}
\usepackage[utf8]{inputenc}
\usepackage[french]{babel}
\usepackage[T1]{fontenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{makeidx}
\usepackage{fixltx2e}


\author{Frantzen Christian, Küpper Marius, Baes Akira, Palmieri-Adant Emile}
\title{Optimiser la distribution de repas}
\begin{document}
\maketitle
\chapter*{Introduction}
L'optimisation de la distribution des repas est un problème qui s'apparente fort au Dial-A-Ride-Problem (DARP). Il a fortement été étudié dans le but d'optimiser le transport des personnes âgées ou inaptes au déplacement. Dans le cadre de ce projet, ce sont des repas que l'on doit transporter des cuisiniers jusqu'aux clients. Ce problème implique un troisième personnage, le livreur. Le défi ici consiste à prendre en compte les contraintes de chacun et trouver une route de moindre coût qui satisfait les demandes de tous les clients.
    
Nous allons donc étudier le DARP plus en détail dans la prochaine section.
\section*{Description d'un DARP}
Dans un DARP il y a n clients qui requièrent un transport depuis un point de départ jusqu'à une destination désirée. Chaque client doit spécifier une fenêtre de temps de leurs heures désirées de départ ainsi que d'arrivée. Chaque véhicule possède une capacité maximale. Chaque client a un temps de transport maximum (on ne peut pas faire trop attendre un client déjà embarqué).\newline
 Il existe deux types différents de DARP, \textit{statique} et \textit{dynamique}. Un DARP statique part de l'idée que toutes les requêtes sont connues avant qu'un véhicule ne commence sa trajectoire. Dans un DARP dynamique, les requêtes ont lieu graduellement au cours du temps. Le trajet est donc déterminé en temps réel. 
    Nous allons d'abord considérer un modèle statique dans le cadre de ce projet.
\subsection*{Notre sujet en tant qu'un DARP}
Dans notre projet il y a n couples de cuisiniers et de clients dont les repas sont transportés. On peut voir le problème en tant que points de départ et points d'arrivée. Deux fenêtres de temps sont spécifiées, une pour le départ (donnée par le cuisinier) et une pour l'arrivée (donnée par le client). Les véhicules (livreurs) possèdent une capacité maximale et la tournée d’un livreur a une durée limite tout comme le transport d’un repas.
\section*{Formulation du problème}
Le DARP est modélisé par un graphe G = (V,A). V = \{ v\textsubscript{0},v\textsubscript{1},v\textsubscript{2},...,v\textsubscript{2n} \} représente l'ensemble des sommets du graphe. 
A = \{ ( v\textsubscript{i},v\textsubscript{j} ) : v\textsubscript{i},v\textsubscript{j} $\in$ V, i$\neq $j \} représente l'ensemble des arcs du graphe.  v\textsubscript{0} correspond au dépôt et les 2n sommets restants correspondent aux origines et destinations des clients. La paire de sommet (v\textsubscript{i},v\textsubscript{i+n}) définit une demande de transport.  
A chaque sommet est associé une charge q\textsubscript{i} (avec q\textsubscript{0} = 0), une durée de service d\textsubscript{i} (avec d\textsubscript{0} = 0)  et une fenêtre de temps [e\textsubscript{i},l\textsubscript{i}] où e\textsubscript{i} et l\textsubscript{i} sont non négatifs.
 Les charges associées aux sommets v\textsubscript{1},...,v\textsubscript{n} sont toujours positives et a contrario, les charges associées aux sommets v\textsubscript{n+1},...,v\textsubscript{2n} sont toujours négatives. 
 La variable T est le temps correspondant à la fin de toutes les tournées des véhicules, T\textsubscript{k} étant la durée maximale d'une tournée d'un véhicule k. Dès lors, on définit par requête outbound une requête dont e\textsubscript{i} = 0 et l\textsubscript{i} = T. À l'opposé, on définit par requête inbound une requête dont e\textsubscript{i+n} = T et l\textsubscript{i+n} = 0. 
A chaque arc (v\textsubscript{i},v\textsubscript{j}) est associée une valeur c\textsubscript{ij} positive étant le coût de déplacement et une valeur t\textsubscript{ij} également positive étant le temps de déplacement. 
La variable L  représente le temps maximum de trajet d'un repas.
    
Notre algorithme essaye donc de créer des routes dans le graphe G en respectant les contraintes suivantes :
\begin{itemize}
\item Chaque route commence et termine au dépôt;
\item Pour chaque requête i, les sommets v\textsubscript{i} et v\textsubscript{i+n} appartiennent à la même route et v\textsubscript{i} est visité avant v\textsubscript{i+n};
\item La charge d'un véhicule k ne peut en aucun cas excéder une limite Q\textsubscript{k};
\item La durée totale d'une route k ne peut en aucun cas excéder la limite T\textsubscript{k};
%\item Le service ayant lieu au sommet vi a lieu dans l'intervalle [ei,li] et chaque véhicule quitte et retourne au dépôt dans l'intervalle [e0,l0];
\item Le temps de trajet d'un repas ne peut en aucun cas dépasser L;
\item Le coût dû au déplacement de chaque véhicule est minimisé. 
\end{itemize}

%On dénote par A\textsubscript{i} le temps d'arrivée d'un véhicule au sommet v\textsubscript{i}, par Bi étant supérieur ou égal au max(ei,Ai) le moment correspondant au début du service au même sommet, et par Di=Bi+di le moment correspondant au départ du véhicule du sommet vi après avoir effectué le service.
%    Nous décrétons également qu'il est autorisé pour un véhicule d'attendre à un sommet avant que le service n'ait lieu. Parallèlement, si un véhicule arrive avant ei, ce qui est aussi autorisé, on définit par Wi=Bi-Ai le temps d'attente du véhicule au sommet vi.
%    Il faut aussi impérativement que Bi>li (si ce n'est pas le cas, la contrainte de la fenêtre de temps est violée).
%    On peut maintenant noter par Li=Bi+n-Di le temps de trajet d'un client ayant fait la requête i. 
%    S'il n'y a pas de contrainte de temps, le moment d'arrivée du véhicule au sommet vi serait optimal quand Bi=max{ei,Ai}.
%    Par contre, il ne faut pas oublier le fait que de temps en temps il pourrait être plus avantageux de délayer le commencement du service au sommet vi dans le but de réduire le temps d'attente au sommet vi+n (ou à un autre sommet visité entre vi et vi+n), ce qui aurait comme conséquence de prolonger L (le temps de trajet).

\section*{Descriptions d'articles de référence}
\subsection*{A tabu search heuristic for the static multi-vehicle
dial-a-ride problem (Jean-François Cordeau, Gilbert Laporte) 2002}
Dans cet article est décrit un algorithme de recherche tabou ('Tabu Search'). Leur approche consiste à établir un ensemble de solutions initiales sans se préoccuper des contraintes de temps et de charge. Est ensuite déterminé une fonction de coût régie par plusieurs paramètres ajustables ce qui permettra de construire les solutions. Le fait d'être souple quant à la violation des contraintes initiales est caractéristique de cet algorithme décrit dans cet article. Il se base sur l'évaluation de voisinages pour construire un trajet optimal minimisant le temps total de trajet ainsi que la durée d'un trajet pour un client. L'article décrit un algorithme 'Tabu Search' \underline{sur lequel nous allons nous baser pour résoudre notre DARP}.
\subsection*{A new regret insertion heuristic for solving large-scale
dial-a-ride problems with time windows ( Marco Diana ,
 Maged M. Dessouky) 2002} 
 Dans leur article, les auteurs décrivent une solution du DARP en tenant compte de contraintes horaires (time windows) et de la situation géographique des différents clients. Les time windows admissibles de chaque requête sont définis à l'aide des données des clients (heure de départ souhaitée ou heure d'arrivée souhaitée) et d'un temps de service à chaque arrêt, vu que les auteurs se concentrent particulièrement sur le transport de personnes à mobilité réduite. Cet article est intéressant pour notre projet car on y décrit une façon comment choisir un bon point de départ de chaque route pour les différents véhicules et on y décrit une façon comment insérer de nouvelles requêtes dans des routes déjà établies en profitant du système des time windows.
 \subsection*{A distributed VNS algorithm for optimizing dial-a-ride
problems in large-scale scenarios (Santiago Muelas , Antonio LaTorre , José-María Peña ) 2014}
Dans leur article, les auteurs décrivent une façon pour résoudre des DARP de grandes tailles. Pour maîtriser la taille du problème, les différents requêtes qui sont proches d'un point de vue géographique et horaire sont regroupés, puis ces groupes sont traités comme sous-problèmes. Chaque sous-problème est résolu et la route optimale de sa solution est renvoyé à l'algorithme appelant. Chaque groupe est traité indépendant des autres groupes. La construction de la solution finale est construite à partir des différentes sous-solutions du problème. L'article est pertinent pour notre projet parce qu'il montre une façon de traiter un DARP de grande taille.
\subsection*{The dial-a-ride problem: models and algorithms     (Jean-François Cordeau et Gilbert Laporte) 2007}
Cet article résume la littérature scientifique à propos des DARP. Il donne un aperçu des différents algorithmes qui ont été publiés pour attaquer ce problème, chacun avec une description des contraintes (time windows, véhicules, ...) et une nombre n d'utilisateurs que l'algorithme est capable de gérer dans un temps raisonnable. Cet aperçu peut nous servir pour apprécier quelle structure l'algorithme convient le plus pour résoudre notre problème. Par ailleurs les différents modèles mathématiques sont présentés et la différence entre le modèle statique et le modèle dynamique est expliquée.
\subsection*{A Granular Tabu Search algorithm for the Dial-a-Ride Problem (Dominik Kirchler, Roberto Wolfer Calvo) 2013}
Dans cet article, un algorithme 'Granular Tabu Search' est présenté. C'est une amélioration de l'algorithme 'Tabu Search' décrit par l'article de référence. 'Granular', granulaire en français, parce que les voisinages qui sont utilisés pour l'amélioration de la solution initiale sont sous forme réduite, c'est-à-dire que les trajets qui ont une faible probabilité d'appartenir à de bonnes solutions sont exclus. L'article peut nous fournir des informations pour améliorer notre algorithme.
\subsection*{Recent Models and Algorithms for One-to-One
Pickup and Delivery Problems revised (Jean-Francois Cordeau, Gilbert Laporte et Stefan Ropke) 2007}
Dans cet article sont décrits des algorithmes (2007) pour résoudre les PDP (Pickup \& Delivevy Problem), dont un branch-and-cut pour DARP développé par Cordeau et Ropke en pages 16-19. Branch-and-cut est présenté comme plus efficace pour donner une solution optimale sur de petits problèmes. 
Dans ce modèle où tous les véhicules sont identiques, on pose une variable à minimiser avec une série de nouvelles contraintes et d'inégalités sur lesquelles on applique un algorithme branch-and-cut. C'est une version améliorée du Branch-and-cut Cordeau de 2003. 
L'article semble présenter l'état de l'art de l'époque en matière de Branch-and-cut pour DARP.
\subsection*{A Branch-and-Cut Algorithm for the Dial-a-Ride Problem (Jean-Francois Cordeau) 2003}
Dans cet article est décrit la première version d'un Branch-and-cut pour DARP par Cordeau peu après son article sur la méthode heuristique tabu. Sont présentés une somme à minimiser sous de nombreuses contraintes et inégalités qui décrivent les limitations du problème. L'article peut nous informer sur les débuts de la méthode Branch-and-cut.
\subsection*{Large Neighborhood Search For Dial-a-Ride Problems (Siddhartha Jain et Pascal Van Hentenryck) 2011}
Cet article présente une variante "First Feasible Probabilistic Acceptance" de la méthode appelée Large Neighborhood Search qui fait une recherche de voisinage sans fixer de contrainte d'amélioration des solutions partielles jusqu'à trouver des solutions faisables qui sont choisies sur bases probabilistes. La méthode est dite plus efficace dans l'article pour des recherches à contraintes à temps limité que les méthodes tabu de l'époque (2011), le rendant approprié pour du DARP semi-dynamique, et donne des résultats non-optimaux comparables aux algorithmes état-de-l'art de l'époque. 
Cet article peut nous donner une autre piste dans la recherche d'un algorithme efficace de résolution de DARP.




\end{document}